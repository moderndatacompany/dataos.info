---
title: "Scanner for Oracle"
sidebarTitle: "Oracle"
description: "This section provides a guide and reference for using the Oracle metadata Scanner Workflow. It includes configuration steps, and required access permissions for execution."
---
Oracle metadata Scanner Workflow can be configured and scheduled through the DataOS CLI. Ensure that all prerequisites are met before initiating the workflow. 
## Prerequisites
- Credentials to connect to Oracle database.
- To extract metadata, the MySQL user needs to have access to the¬†`INFORMATION_SCHEMA`.
- Metadata Scan is supported for 12c, 18c, 19c, and 21c versions.
- To ingest metadata from oracle user must have¬†`CREATE SESSION`¬†privilege for the user.
- Check the Oracle Depot is existed or not, for this go to the Metis UI of the DataOS or use the following command:
  
  ```bash
  dataos-ctl get -t depot -a
  ```
  
  ```bash
  #expected output
  
  INFO[0000] üîç get...
  INFO[0000] üîç get...complete
  
  | NAME             | VERSION | TYPE  | WORKSPACE | STATUS | RUNTIME | OWNER      |
  | ---------------- | ------- | ----- | --------- | ------ | ------- | ---------- |
  | mongodepot       | v2alpha | depot |           | active |         | usertest   |
  | snowflakedepot   | v2alpha | depot |           | active |         | gojo       |
  | redshiftdepot    | v2alpha | depot |           | active |         | kira       |
  | mysqldepot       | v2alpha | depot |           | active |         | ryuk       |
  | oracle01         | v2alpha | depot |           | active |         | drdoom     |
  | mariadb01        | v2alpha | depot |           | active |         | tonystark  |
  | demopreppostgres | v2alpha | depot |           | active |         | slimshaddy |
  | demoprepbq       | v2alpha | depot |           | active |         | pengvin    |
  | mssql01          | v2alpha | depot |           | active |         | hulk       |
  | kafka01          | v2alpha | depot |           | active |         | peeter     |
  | icebase          | v2alpha | depot |           | active |         | blackpink  |
  | azuresql         | v2alpha | depot |           | active |         | arnold     |
  | fastbase         | v2alpha | depot |           | active |         | ddevil     |
  ```
  
  If the Depot is not created, create a Depot using the template given below: 
  
  ```yaml
  name: ${{depot-name}}
  version: v1
  type: depot
  tags:
    - ${{dropzone}}
    - ${{oracle}}
  layer: user
  depot:
    type: ORACLE                                    
    description: ${{"Oracle Sample data"}}
    spec:
      subprotocol: ${{subprotocol}} # for example "oracle:thin"                                     
      host: ${{host}}
      port: ${{port}}
      service: ${{service}}
    external: ${{true}}
      - acl: r
        type: key-value-properties
        data:
          username: ${{username}}
          password: ${{password}}  
      - acl: rw
        type: key-value-properties
        data:
          username: ${{username}}
          password: ${{password}}
  ```

- **Access Permissions in DataOS**: 
  To execute a Scanner Workflow in DataOS, verify that at least one of the following role tags is assigned:
  
  * `roles:id:data-dev`
  
  * `roles:id:system-dev`
  
  * `roles:id:user`
  
  Use the following command to check assigned roles:
  
  ```bash
  dataos-ctl user get
  ```
  
  If any required tags are missing, contact a **DataOS Operator** or submit a **Grant Request** for role assignment.
  
  Alternatively, if access is managed through **use cases**, ensure the following use cases are assigned:
  
  * **Read Workspace**
  
  * **Run as Scanner User**
  
  * **Manage All Depot**
  
  * **Read All Dataset**
  
  * **Read All Secrets from Heimdall**
  
  To validate assigned use cases, refer to the **Bifrost Application Use Cases** section.

## Scanner Workflow for Oracle

An Oracle-type Depot enables access to all schemas visible to the specified user in the configured database.

<Info>

Ensure that the Depot is created for your Oracle database and you have `Read` access for the depot.

</Info>

```yaml
version: v1
name: oracle-scanner
type: workflow
tags:
  - oracle-scanner
description: The job scans schema tables and register metadata
workflow:
  dag:
    - name: oracle-scanner
      description: The job scans schema from oracle-scanner tables and register metadata to metis2
      spec:
        tags:
          - scanner
        stack: scanner:2.0
        compute: runnable-default
                runAsUser: metis
        stackSpec:
          depot: oracle01          #depo name/address
          sourceConfig:
            config:
              markDeletedTables: false
              includeTables: true
              includeViews: true
              databaseFilterPattern:
                  includes:
                      - database1
                      - database2
                    excludes:
                      - database3
                      - database4
                  schemaFilterPattern:
                    includes:
                      - schema1
                      - schema2
                    excludes:
                      - schema3
                      - schema4
                  tableFilterPattern:
                    includes:
                      - table1
                      - table2
                    excludes:
                      - table3
                      - table4
```

After the successful workflow run, user can check the metadata of scanned Tables on Metis UI for all schemas present in the database. The above sample manifest file is deployed using the following command:

```bash
dataos-ctl resource apply -f ${{path to the Scanner YAML}}
```

**Updating the Scanner Workflow**:

If the Depot or Scanner configurations are updated, the Scanner must be redeployed after deleting the previous instance. Use the following command to delete the existing Scanner:

<CodeGroup>
  ```bash Command
  dataos-ctl delete -f ${{path-to-Scanner-YAML}}
  ```

  ```bash Alternative Command
  dataos-ctl delete -t workflow -n ${{name of Scanner}} -w ${{name of workspace}}
  ```
</CodeGroup>

<Note>
  **Best Practice:**¬†As part of best practices, it is recommended to regularly delete Resources that are no longer in use. This practice offers several benefits, including saving time and reducing costs
</Note>