---
title: "Lens model Folder setup"
sidebarTitle: "Model Folder Setup"
---

<Info>
  To quickly get started with creating a Lens model in DataOS, follow the [quick guide on creating a Lens model](/quick_guides/create_data_model/). This guide provides step-by-step instructions to help you transform your conceptual design into a functional semantic model, ensuring effective data structuring and organization to meet your analytical and business needs.
</Info>

## **Prerequisites**

Before setting up Lens, refer to the **Prerequisites for Lens** guide for detailed instructions and ensure all required dependencies are installed.

## **Lens Project folder structure**

In the Model folder, the Lens semantic model will be defined, encompassing SQL mappings, logical tables, logical views, and user groups. Each subfolder contains specific files related to the Lens model. You can download the Lens  template to quickly get started.

[lens template](/resources/lens/lens_model_folder_setup/lens-project-template.zip)

<Steps>
  <Step title="Load data from the data source" titleSize="h3">
    In the `sqls` folder, create `.sql` files for each logical table, with each file dedicated to loading or selecting the relevant data from the source. Each file will be responsible for loading or selecting the relevant data from the source, ensuring that only the necessary columns are extracted. The SQL dialect used will be specific to the data source.

    For example, a simple data load might look like this:

    ```sql
    SELECT
      *
    FROM
      "icebase"."sales_360".channel;
    ```

    Alternatively, you can write more advanced queries that include transformations, such as:

    ```sql
    SELECT
      CAST(customer_id AS VARCHAR) AS customer_id,
      first_name,
      CAST(DATE_PARSE(birth_date, '%d-%m-%Y') AS TIMESTAMP) AS birth_date,
      age,
      CAST(register_date AS TIMESTAMP) AS register_date,
      occupation,
      annual_income,
      city,
      state,
      country,
      zip_code
    FROM
      "icebase"."sales_360".customer;
    ```
  </Step>

  <Step title="Define the Table in the Model" titleSize="h2">
    Create a `tables` folder to store logical table definitions, with each table defined in a separate YAML file. These files will outline all dimensions, measures, and segments associated with each table. To define a table in the model, create a YAML file for each entity within the `tables` directory. For example, to define a table for `sales `data:

    ```yaml
    table:
      - name: customers
        sql: {{ load_sql('customers') }}
        description: Table containing information about sales transactions.
    ```

    ### Add Dimensions and Measures

    After defining the base table, add the necessary dimensions and measures. For example, to create a table for sales data with measures and dimensions, the YAML definition could look like this:

    ```yaml
    tables:
      - name: sales
        sql: {{ load_sql('sales') }}
        description: Table containing sales records with order details.

        dimensions:
          - name: order_id
            type: number
            description: Unique identifier for each order.
            sql: order_id
            primary_key: true
            public: true

        measures:
          - name: total_orders_count
            type: count
            sql: id
            description: Total number of orders.
    ```

    ### Add Segments to Measures

    Segments are measure filters that allow for the application of specific conditions to refine the data analysis. By defining segments, you can focus on particular subsets of data, ensuring that only the relevant records are included in your analysis. For example, to filter for records where the state is either Illinois or Ohio, you can define a segment like this:

    ```yaml
    segments:
      - name: state_filter
        sql: "{TABLE}.state IN ('Illinois', 'Ohio')"
    ```

    To know more about Segments click [here](https://dataos.info/resources/lens/working_with_segments/).
  </Step>

  <Step title="Create the Views" titleSize="h2">
    Create a **views** folder to store all logical views, with each view defined in a separate YAML file (e.g., `sample_view.yml`). Each view references dimensions, measures, and segments from multiple logical tables. For instance the following`customer_churn` view is created.

    ```yaml
    views:
      - name: customer_churn_prediction
        description: Contains customer churn information.
        tables:
          - join_path: marketing_campaign
            includes:
              - engagement_score
              - customer_id
          - join_path: customer
            includes:
              - country
              - customer_segments
    ```

    To know more about the Views click [here](https://dataos.info/resources/lens/working_with_views/).
  </Step>

  <Step title="Create User Groups" titleSize="h2">
    This YAML manifest file is used to manage access levels for the Lens semantic model. It defines user groups that organize users based on their access privileges. In this file, you can create multiple groups and assign different users to each group, allowing you to control access to the model.By default, there is a 'default' user group in the YAML file that includes all users.

    ```yaml
    user_groups:
      - name: default
        description: this is default user group
        includes: "*"
    ```

    To know more about the User Groups click [here](https://dataos.info/resources/lens/working_with_user_groups_and_data_policies/)
  </Step>
</Steps>

## Next steps

[Deploying Lens model on DataOS](/resources/lens/lens_deployment/)