---
title: "Instance Secret"
search: "[object Object]"
---

An Instance Secret is a \[DataOS Resource]\(/resources/) designed for securely storing sensitive information at the DataOS instance level. This includes usernames, passwords, certificates, tokens, and keys. The primary purpose of an Instance Secret is to address the inherent exposure risk associated with directly embedding such confidential data within application code or manifest files (YAML configuration files).

Instance secrets establish a critical segregation between sensitive data and Resource definitions. This division minimizes inadvertent exposure during various Resource management phases, including creation, viewing, or editing. By leveraging Instance Secrets, data developers safeguard sensitive information, mitigating security vulnerabilities inherent in their data workflows.&#x20;

Operators can exercise precise control over who can retrieve credentials from Secrets, if in your organization any data developer needs access to secrets you can assign them a 'read instance secret' use case using \[Bifrost]\(/interfaces/bifrost/).

<Tip>
  **Instance Secret in the Data Product Lifecycle**

  In the Data Product Lifecycle, Instance Secrets play a crucial role in securely managing credentials and sensitive information. They are particularly useful when your data product requires:

  * **Secure Credential Management**: Storing and managing sensitive information such as usernames, passwords, API keys, or certificates securely within an instance. For example, an instance secret can securely store the credentials needed to connect to a database, ensuring that these credentials are not exposed in the codebase or configuration files.

  * **Access Control**: Ensuring that only authorized components and services within the instance can access the credentials. For instance, an instance secret can be used to provide a web application with the credentials to access a third-party service without exposing those credentials to the broader environment.

  * **Auditing and Compliance**: Maintaining a secure and auditable method of handling sensitive data, complying with security policies and regulatory requirements. Instance secrets ensure that credential usage is logged and can be monitored for compliance purposes.

  By using instance secrets, you can manage sensitive information securely and efficiently, mitigating the risk of exposing credentials while enabling seamless access for your applications and services.
</Tip>

<Info>
  In the DataOS ecosystem, there are two specialized Resources designed to protect sensitive information: Instance Secret and [Secret](https://dataos.info/resources/secret/). The Instance Secret offers a wider scope, extending across the entirety of the [DataOS Instance](https://dataos.info/resources/types_of_dataos_resources/#instance-level-resources). Resources within any Workspace can utilize Instance Secrets for securely retrieving sensitive data. In contrast, Secrets are limited to the [Workspace level](https://dataos.info/resources/types_of_dataos_resources/#workspace-level-resources), accessible exclusively within a specific Workspace and only by Resources associated with that Workspace.
</Info>

## Structure of an Instance Secret manifest

The structure of the Instance Secret manifest file is outlined as follows:

![](/resources/instance_secret/instance_secret_manifest_structure.jpg)

## Templates

To facilitate the creation of Instance Secret accessing commonly used data sources and repositories, we have compiled a collection of pre-defined manifest templates. These templates serve as a starting point.

<AccordionGroup>
  <Accordion title="Object Store" defaultOpen={false}>
    Object stores are distributed storage systems designed to store and manage large amounts of unstructured data. Instance-Secrets can configured to securely store sensitive information of the following object stores:

    <AccordionGroup>
      <Accordion title="ABFSS" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing ABFSS credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```yaml Read-only instance-secret
          # Azure Blob File System Secure (ABFSS) Read Instance Secret Manifest

          name: ${abfss-depot-name}-r # Name of the instance-secret, indicating it's for read-only access.
          version: v1 # Manifest Version           
          type: instance-secret # Resource-type
          description: ${description}   # Optional: Brief description of the instance-secret's purpose.
          layer: user # DataOS Layer                 
          instance-secret:
            type: key-value-properties  # Type of Instance-secret
            acl: r                     # Access control level, set to 'r' for read-only access.
            data:                       
              azureendpointsuffix: ${azure-endpoint-suffix}  # Endpoint suffix for the Azure storage account.
              azurestorageaccountkey: ${azure-storage-account-key}  # Access key for the Azure storage account.
              azurestorageaccountname: ${azure-storage-account-name}  # Name of the Azure storage account.
          ```

          ```
          ```
        </CodeGroup>
      </Accordion>

      <Accordion title="WASBS" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing WASBS credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript helloWorld.js
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>

      <Accordion title="GCS" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing GCS credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript Read-only instance-secret
          console.log("Hello World");
          ```

          ```
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>

      <Accordion title="S3" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing GCS credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript helloWorld.js
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>
    </AccordionGroup>
  </Accordion>

  <Accordion title="Data Warehouse" defaultOpen={false}>
    A data warehouse serves as a centralized repository for structured data, enabling efficient query and analysis. Instance-Secrets can be configured for securely storing credentials for the Amazon Redshift, Snowflake, and Google Bigquery Warehouses in the following ways:

    <AccordionGroup>
      <Accordion title="Bigquery" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing Google Bigquery credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript helloWorld.js
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>

      <Accordion title="Redshift" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing Amazon Redshift credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript helloWorld.js
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>

      <Accordion title="Snowflake" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing Snowflake credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript Read-only instance-secret
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>
    </AccordionGroup>
  </Accordion>

  <Accordion title="SQL Databases" defaultOpen={false}>
    SQL databases are typically centralized systems designed for structured data, organized into tables with a predefined schema. Instance-Secrets are configured to securely access and interact with the respective SQL databases.

    <AccordionGroup>
      <Accordion title="MySQL" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing MySQL credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript helloWorld.js
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>

      <Accordion title="MSSQL" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing MSSQL credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript helloWorld.js
          console.log("Hello World");
          ```

          ```
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>

      <Accordion title="JDBC" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing JDBC credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript helloWorld.js
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>

      <Accordion title="Oracle" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing Oracle credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript helloWorld.js
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>

      <Accordion title="Postgres" defaultOpen={false}>
        The manifest files provided below are the templates for securely storing Postgres credentials. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

        <CodeGroup>
          ```javascript helloWorld.js
          console.log("Hello World");
          ```
        </CodeGroup>
      </Accordion>
    </AccordionGroup>
  </Accordion>
</AccordionGroup>

## First steps

Instance-secret Resource in DataOS can be created by applying the manifest file using the DataOS CLI. To learn more about this process, navigate to the link: First steps.

## Configuration

Instance-secret can be configured to secure the credentials information in the form of key-value pairs. For a detailed breakdown of the configuration options and attributes, please refer to the documentation: \[Attributes of Instance Secret manifest]\(/resources/instance\_secret/configurations/).

## Recipes

\[How to refer to Instance Secret in other DataOS Resources?]\(/resources/instance\_secret/how\_to\_guide/recipe\_1/)