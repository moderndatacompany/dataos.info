---
search: "[object Object]"
description: "An Instance Secret is a DataOS Resource designed for securely storing sensitive information at the DataOS instance level. This includes usernames, passwords, certificates, tokens, and keys. The primary purpose of an Instance Secret is to address the inherent exposure risk associated with directly embedding such confidential data within application code or manifest files (YAML configuration files). Instance secrets establish a critical segregation between sensitive data and Resource definitions. This division minimizes inadvertent exposure during various Resource management phases, including creation, viewing, or editing. By leveraging Instance Secrets, data developers safeguard sensitive information, mitigating security vulnerabilities inherent in their data workflows."
sidebarTitle: "What is an Instance Secret?"
title: "Introduction"
mode: "wide"
---

Operators can exercise precise control over who can retrieve credentials from Secrets. If any data developer in your organization needs access to secrets, you can assign them a 'read instance secret' use case using Bifrost.

<Tip>
  **Instance Secret in the Data Product Lifecycle**

  In the Data Product Lifecycle, Instance Secrets play a crucial role in securely managing credentials and sensitive information. They are particularly useful when your data product requires:

  * **Secure Credential Management**: Storing and managing sensitive information such as usernames, passwords, API keys, or certificates securely within an instance. For example, an instance secret can securely store the credentials needed to connect to a database, ensuring that these credentials are not exposed in the codebase or configuration files.

  * **Access Control**: Ensuring that only authorized components and services within the instance can access the credentials. For instance, an instance secret can be used to provide a web application with the credentials to access a third-party service without exposing those credentials to the broader environment.

  * **Auditing and Compliance**: Maintaining a secure and auditable method of handling sensitive data, and complying with security policies and regulatory requirements. Instance secrets ensure that credential usage is logged and can be monitored for compliance purposes.

  By using Instance Secrets, you can manage sensitive information securely and efficiently, mitigating the risk of exposing credentials while enabling seamless access for your applications and services.
</Tip>

<Info>
  In the DataOS ecosystem, there are two specialized Resources designed to protect sensitive information: Instance Secret andÂ [Secret](https://dataos.info/resources/secret/). The Instance Secret offers a wider scope, extending across the entirety of theÂ [DataOS Instance](https://dataos.info/resources/types_of_dataos_resources/#instance-level-resources). Resources within any Workspace can utilize Instance Secrets for securely retrieving sensitive data. In contrast, Secrets are limited to theÂ [Workspace level](https://dataos.info/resources/types_of_dataos_resources/#workspace-level-resources), accessible exclusively within a specific Workspace and only by Resources associated with that Workspace.
</Info>

## Structure of an Instance Secret manifest

The structure of the Instance Secret manifest file is outlined as follows:

## How to create an Instance Secret?

This section includes steps for creating the Instance Secret to secure commonly used data sources and repositories. A Data Product developer is generally responsible for creating an Instance Secret.

#### Data Sources:

<AccordionGroup>
  <Accordion title="ABFSS" defaultOpen={false}>
    ### Pre-requisites

    To create an Instance Secret for securing ABFSS credentials, you must have the following information:

    * **Azure Endpoint Suffix**: The endpoint suffix for the Azure Storage account. This is typically region-specific and can be found in the Azure Portal under the **Properties** section of your storage account.

    * **Azure Storage Account Key**: The access key for the Azure Storage account, used for authentication. You can retrieve this from the Azure Portal by navigating to your storage account, selecting **Access keys** under the **Security + networking** section, and copying the key.

    * **Azure Storage Account Name**: The name of the Azure Storage account used to identify it within your subscription. This can be found in the Azure Portal under the **Overview** section of your storage account.

    Ensure that you have these details ready before proceeding with the Instance Secret creation process.

    ### Create an Instance Secret for securing ABFSS credentials

    Azure Blob File System Secure (ABFSS) is an object storage system. Object stores are distributed storage systems designed to store and manage large amounts of unstructured data.

    To create an Azure Blob File System Secure (ABFSS) Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your ABFSS Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      # Azure Blob File System Secure (ABFSS) Read Instance Secret Manifest

      name: ${abfss-depot-name}-r # Name of the instance-secret, indicating it's for read-only access.
      version: v1 # Manifest Version           
      type: instance-secret # Resource-type
      description: ${description}   # Optional: Brief description of the instance-secret's purpose.
      layer: user # DataOS Layer                 
      instance-secret:
        type: key-value-properties  # Type of Instance-secret
        acl: r                     # Access control level, set to 'r' for read-only access.
        data:                       
          azureendpointsuffix: ${azure-endpoint-suffix}  # Endpoint suffix for the Azure storage account.
          azurestorageaccountkey: ${azure-storage-account-key}  # Access key for the Azure storage account.
          azurestorageaccountname: ${azure-storage-account-name}  # Name of the Azure storage account.
      ```

      ```yaml Read-write instance-secret
      # Azure Blob File System Secure (ABFSS) Read Write Instance Secret Manifest

      name: ${abfss-depot-name}-rw  # Name of the instance-secret, indicating it's for read-write access.
      version: v1 # Manifest Version           
      type: instance-secret # Resource-type
      description: ${description}   # Optional: Brief description of the instance-secret's purpose.
      layer: user # DataOS Layer                 
      instance-secret:
        type: key-value-properties  # Type of Instance-secret
        acl: rw                     # Access control level, set to 'rw' for read-write access.
        data:                       
          azureendpointsuffix: ${azure-endpoint-suffix}  # Endpoint suffix for the Azure storage account.
          azurestorageaccountkey: ${azure-storage-account-key}  # Access key for the Azure storage account.
          azurestorageaccountname: ${azure-storage-account-name}  # Name of the Azure storage account.
      ```
    </CodeGroup>

    ### **Resource meta section**

    The ABFSS manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to ABFSS Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the ABFSS Instance Secret within DataOS, use the `apply` command. Since ABFSS Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the ABFSS Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/metis_is)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete the ABFSS Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Bigquery" defaultOpen={false}>
    ### Pre-requisites

    To create an Instance Secret for securing BigQuery credentials, you must have the following information:

    * **Project ID**: The BigQuery project ID used to identify your Google Cloud project. You can retrieve this from the Google Cloud Console by navigating to the project dashboard and locating the **Project ID** under project information.

    * **Email ID**: The email address associated with the service account used to access BigQuery. This can be found in the **IAM & Admin > Service Accounts** section of the Google Cloud Console by selecting the relevant service account and viewing its details.

    * **JSON Key File**: The path to the JSON key file for the service account, used for authentication. To obtain this, go to **IAM & Admin > Service Accounts** in the Google Cloud Console, select the service account, click **Keys**, and download the JSON key file by selecting **Add Key > JSON**. Ensure the file is securely stored and note its path.

    Ensure you have these credentials ready before proceeding with the Instance Secret creation process.

    ## Create an Instance Secret for securing Bigquery credentials

    Bigquery is a data warehouse that serves as a centralized repository for structured data, enabling efficient query and analysis.

    To create a Bigquery Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your Bigquery Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      # Google Bigquery Read Instance-secret Manifest

      name: ${bigquery-depot-name}-r # Unique identifier for Resource, replace ${bigquery-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          projectid: ${project-name} # Replace with Bigquery project ID
          email: ${email-id} # Replace with Bigquery email ID
        files:
          json_keyfile: ${json-file-path}

      ```

      ```yaml Read-write instance-secret
      # Google Bigquery Read-Write Instance-secret Manifest

      name: ${bigquery-depot-name}-rw # Unique identifier for Resource, replace ${bigquery-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          projectid: ${project-name} # Replace with Bigquery project ID
          email: ${email-id} # Replace with Bigquery email ID
        files:
          json_keyfile: ${json-file-path}
      ```
    </CodeGroup>

    ### **Resource meta section**

    The Bigquery Instance Secret manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to Bigquery Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the Bigquery Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Bigquery Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/metis_is.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an  Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Eventhub" defaultOpen={false}>
    **Pre-requisites**
    To create an Instance Secret for securing Azure Event Hub credentials, you must have the following information:

    * **Event Hub Shared Access Key Name**: The name of the shared access key for the Azure Event Hub. You can retrieve this from the Azure Portal by navigating to your Event Hub namespace, selecting "Shared access policies," and locating the key name under the policy details.

    * **Event Hub Shared Access Key**: The shared access key associated with the Event Hub shared access key name. You can retrieve this from the Azure Portal by navigating to your Event Hub namespace, selecting "Shared access policies," and copying the key value under the selected policy.

    Ensure you have these credentials ready before proceeding with the Instance Secret creation process

    ### Create an Instance Secret for securing Eventhub credentials

    Eventhub is a streaming service platform. Streaming refers to the continuous and real-time transmission of data from a source to a destination.Â 

    To create a Eventhub Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your Eventhub Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      # Eventhub Read Instance-secret Manifest

      name: ${eventhub-depot-name}-r # Unique identifier for Resource, replace ${eventhub-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          eh_shared_access_key_name: ${EH_SHARED_ACCESS_KEY_NAME} # replace with eventhub access key name
          eh_shared_access_key: ${EH_SHARED_ACCESS_KEY} # replace with eventhub access key

      ```

      ```yaml Read-write instance-secret
      # Eventhub Read Write Instance-secret Manifest

      name: ${eventhub-depot-name}-rw # Unique identifier for Resource, replace ${eventhub-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          eh_shared_access_key_name: ${EH_SHARED_ACCESS_KEY_NAME} # replace with eventhub access key name
          eh_shared_access_key: ${EH_SHARED_ACCESS_KEY} # replace with eventhub access key
      ```
    </CodeGroup>

    ### **Resource meta section**

    The GCS manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to Eventhub Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the Eventhub Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Bigquery Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/metis_is.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an  Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="GCS" defaultOpen={false}>
    ### Pre-requisites

    To create an Instance Secret for securing GCS credentials, you must have the following information:

    * **Project ID for the Google Cloud Project**: The unique identifier of the Google Cloud project where your GCS bucket resides. You can retrieve this from the Google Cloud Console by navigating to your project dashboard and locating the **Project ID** under project information.

    * **Email Address Associated with the Google Cloud Service Account**: The email address of the service account used to authenticate and access your GCS bucket. This can be found in the **IAM & Admin > Service Accounts** section of the Google Cloud Console by selecting the service account and viewing its details.

    * **JSON Key File for the Google Cloud Service Account**: The path to the JSON key file used to authenticate the service account. To obtain this, navigate to **IAM & Admin > Service Accounts** in the Google Cloud Console, select the relevant service account, click **Keys**, and download the JSON key file by selecting **Add Key > JSON**. Ensure the file is stored securely, and note its path.

    Make sure to have these details ready before proceeding with the Instance Secret creation process.

    ### Create an Instance Secret for securing GCS credentials

    Google Cloud Storage (GCS) is an object storage system. Object stores are distributed storage systems designed to store and manage large amounts of unstructured data.

    To create a Google Cloud Storage (GCS) Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your GCS Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      name: ${gcs-depot-name}-r  # Name of the instance-secret, indicating it's for read-only access.
      version: v1  # Version of the instance-secret.
      type: instance-secret  # Specifies that this is an instance-secret.
      description: ${description}  # Optional: Brief description of the instance-secret's purpose.
      layer: user  # DataOS layer where the secret is assigned.
      instance-secret:
        type: key-value-properties  # Type of Instance-secret, stored as key-value pairs.
        acl: r  # Access control level, set to 'r' for read-only access.
        data:
          projectid: ${project-id}  # Unique identifier of the Google Cloud project that your GCS bucket resides in.
          email: ${client-email}  # Email address associated with the Google Cloud service account.
        files:
          gcskey_json: ${path-to-gcskey-json}  # Path to the JSON key file for the Google Cloud service account.

      ```

      ```yaml Read-write instance-secret
      name: ${gcs-depot-name}-rw  # Name of the instance-secret, indicating it's for read-write access.
      version: v1  # Version of the instance-secret.
      type: instance-secret  # Specifies that this is an instance-secret.
      description: ${description}  # Optional: Brief description of the instance-secret's purpose.
      layer: user  # DataOS layer where the secret is assigned.
      instance-secret:
        type: key-value-properties  # Type of Instance-secret, stored as key-value pairs.
        acl: rw  # Access control level, set to 'rw' for read-write access.
        data:
          projectid: ${project-id}  # Unique identifier of the Google Cloud project that your GCS bucket resides in.
          email: ${client-email}  # Email address associated with the Google Cloud service account.
        files:
          gcskey_json: ${path-to-gcskey-json}  # Path to the JSON key file for the Google Cloud service account.
      ```
    </CodeGroup>

    ### **Resource meta section**

    The GCS manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to GCS Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the GCS Instance Secret within DataOS, use the `apply` command. Since GCS Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="JDBC" defaultOpen={false}>
    **Pre-requisites**
    To create an Instance Secret for securing JDBC credentials, you must have the following information:

    * **Username**: The JDBC username used to authenticate and access the database via JDBC. This can be obtained from the database administrator who manages user access.

    * **Password**: The password associated with the JDBC username for authentication. This can be obtained from the database administrator, or if the password is already set, you will need to securely retrieve it.

    Ensure you have these credentials ready before proceeding with the Instance Secret creation process.

    ## Create an Instance Secret for securing JDBC credentials

    Java Database Connectivity (JDBC) is a SQL database. SQL databases are typically centralized systems designed for structured data, organized into tables with a predefined schema.

    To create a JDBC Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your JDBC Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      # JDBC Read Instance-secret Manifest

      name: ${jdbc-depot-name}-r # Unique identifier for Resource, replace ${jdbc-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          username: ${username} # replace with JDBC username
          password: ${password} # replace with JDBC password

      ```

      ```yaml Read-write instance-secret
      # JDBC Read Write Instance-secret Manifest

      name: ${jdbc-depot-name}-rw # Unique identifier for Resource, replace ${jdbc-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          username: ${username} # replace with JDBC username
          password: ${password} # replace with JDBC password
      ```
    </CodeGroup>

    ### **Resource meta section**

    The GCS manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to JDBC Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the JDBC Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="MongoDB" defaultOpen={false}>
    **Pre-requisites**
    To create an Instance Secret for securing MongoDB credentials, you must have the following information:

    * **Username**: The MongoDB username used to authenticate and access your MongoDB database. This can be obtained from the MongoDB administrator who manages user access.

    * **Password**: The password associated with the MongoDB username for authentication. This can be obtained from the MongoDB administrator, or if the password is already set, you will need to securely retrieve it.

    Ensure you have these credentials ready before proceeding with the Instance Secret creation process.

    ## Create an Instance Secret for securing MongoDB credentials

    MongoDB is a NoSQL database. NoSQL databases are designed for flexible, distributed data storage, accommodating unstructured or semi-structured data.

    To create a MongoDB Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your MongoDB Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      # MongoDB Read Instance-secret Manifest

      name: ${mongodb-depot-name}-r # Unique identifier for Resource, replace ${snowflake-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          username: ${username} # replace with mongodb username
          password: ${password} # replace with mongodb password
      ```

      ```yaml Read-write instance-secret
      # MongoDB Read Write Instance-secret Manifest

      name: ${mongodb-depot-name}-r # Unique identifier for Resource, replace ${snowflake-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          username: ${username} # replace with mongodb username
          password: ${password} # replace with mongodb password
      ```
    </CodeGroup>

    ### **Resource meta section**

    The MongoDB Instance Secret manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to MongoDB Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the MongoDB Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="MSSQL" defaultOpen={false}>
    **Pre-requisites**
    To create an Instance Secret for securing MsSQL credentials, you must have the following information:

    * **Username**: The MsSQL username used to authenticate and access your MsSQL database. You can retrieve this from the MsSQL database admin by asking them to provide the username for your account.

    * **Password**: The password associated with the MsSQL username for authentication. You can obtain this from the MsSQL database admin, or if the password is already set, you will need to securely retrieve it.

    Ensure you have these credentials ready before proceeding with the Instance Secret creation process.

    ## Create an Instance Secret for securing MSSQL credentials

    Microsoft SQL Server (MSSQL) is a SQL database. SQL databases are typically centralized systems designed for structured data, organized into tables with a predefined schema.

    To create a MSSQL Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your MSSQL Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      name: ${mssql-depot-name}-r # Unique identifier for Resource, replace ${mssql-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          username: ${username} # replace with MsSQL username
          password: ${password} # replace with MsSQL password
      ```

      ```yaml Read-write instance-secret
      name: ${mssql-depot-name}-rw # Unique identifier for Resource, replace ${mssql-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          username: ${username} # replace with MsSQL username
          password: ${password} # replace with MsSQL password
      ```
    </CodeGroup>

    ### **Resource meta section**

    The Instance Secret manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to MSSQL Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the MSSQL Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="MySQL" defaultOpen={false}>
    **Pre-requisites**
    To create an Instance Secret for securing MySQL credentials, you must have the following information:

    * **Username**: The MySQL username used to authenticate and access your MySQL database. This can be obtained from the database admin who manages user access.

    * **Password**: The password associated with the MySQL username for authentication. This is typically set when the user account is created and must be provided by the MySQL admin or securely retrieved if forgotten.

    Ensure you have these credentials ready before proceeding with the Instance Secret creation process.

    ## Create an Instance Secret for securing MySQL credentials

    MySQL is a SQL database. SQL databases are typically centralized systems designed for structured data, organized into tables with a predefined schema.

    To create a MySQL Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your MySQL Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      # MySQL Read Instance-secret Manifest

      name: ${mysql-depot-name}-r # Unique identifier for Resource, replace ${mysql-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          username: ${username} # replace with MySQL username
          password: ${password} # replace with MySQL password
      ```

      ```yaml Read-write instance-secret
      # MySQL Read Write Instance-secret Manifest

      name: ${mysql-depot-name}-rw # Unique identifier for Resource, replace ${mysql-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          username: ${username} # replace with MySQL username
          password: ${password} # replace with MySQL password
      ```
    </CodeGroup>

    ### **Resource meta section**

    The Instance Secret manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to MySQL Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the MySQL Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Oracle" defaultOpen={false}>
    **Pre-requisites**
    To create an Instance Secret for securing Oracle credentials, you must have the following information:

    * **Username**: The Oracle username used to authenticate and access your Oracle database. This can be obtained from the database administrator who manages user access.

    * **Password**: The password associated with the Oracle username for authentication. This can be obtained from the database administrator, or if the password is already set, you will need to securely retrieve it.

    Ensure you have these credentials ready before proceeding with the Instance Secret creation process.

    ## Create an Instance Secret for securing Oracle credentials

    Oracle is a SQL database. SQL databases are typically centralized systems designed for structured data, organized into tables with a predefined schema.

    To create a Oracle Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your Oracle Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      # Oracle Read Instance-secret Manifest

      name: ${oracle-depot-name}-r # Unique identifier for Resource, replace ${oracle-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          username: ${username} # replace with oracle username
          password: ${password} # replace with oracle password
      ```

      ```yaml Read-write instance-secret
      # Oracle Read Write Instance-secret Manifest

      name: ${oracle-depot-name}-r # Unique identifier for Resource, replace ${oracle-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          username: ${username} # replace with oracle username
          password: ${password} # replace with oracle password
      ```
    </CodeGroup>

    ### **Resource meta section**

    The GCS manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to GCS Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create an Oracle Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Postgres" defaultOpen={false}>
    **Pre-requisites**
    To create an Instance Secret for securing PostgreSQL credentials, you must have the following information:

    * **Username**: The PostgreSQL username used to authenticate and access your PostgreSQL database. This can be obtained from the PostgreSQL administrator who manages user access.

    * **Password**: The password associated with the PostgreSQL username for authentication. This can be obtained from the PostgreSQL administrator, or if the password is already set, you will need to securely retrieve it.

    Ensure you have these credentials ready before proceeding with the Instance Secret creation process.

    ## Create an Instance Secret for securing Postgres credentials

    &#x20;Postgres is a SQL database. SQL databases are typically centralized systems designed for structured data, organized into tables with a predefined schema.

    To create a Postgres Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your Postgres Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      # PostgresSQL Read Instance-secret Manifest

      name: ${postgres-depot-name}-r # Unique identifier for Resource, replace ${postgres-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          username: ${username} # replace with postgres username
          password: ${password} # replace with postgres password

      ```

      ```yaml Read-write instance-secret
      # PostgresSQL Read Write Instance-secret Manifest

      name: ${postgres-depot-name}-rw # Unique identifier for Resource, replace ${postgres-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          username: ${username} # replace with postgres username
          password: ${password} # replace with postgres password
      ```
    </CodeGroup>

    ### **Resource meta section**

    The Instance Secret manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to Postgres Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the Postgres Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Redshift" defaultOpen={false}>
    **Pre-requisites**
    To create an Instance Secret for securing Redshift credentials, you must have the following information:

    * **Username**: The Redshift username used to authenticate and access your Redshift cluster. This can be obtained from the Redshift admin who manages user access.

    * **Password**: The password associated with the Redshift username for authentication. This is typically set when the user account is created and must be provided by the Redshift admin or securely retrieved if forgotten.

    * **AWS Access Key ID**: The Access Key ID for your AWS account, which is used to authenticate API requests. You can obtain this from the AWS IAM (Identity and Access Management) console under your userâ€™s security credentials section.

    * **AWS Secret Access Key**: The Secret Access Key associated with your AWS Access Key ID, used for secure API requests. This can also be obtained from the AWS IAM console, under your userâ€™s security credentials section. Ensure the secret key is securely stored and kept private.

    Ensure you have these credentials ready before proceeding with the Instance Secret creation process.

    ## Create an Instance Secret for securing Redshift credentials

    Redshift is a data warehouse that serves as a centralized repository for structured data, enabling efficient query and analysis.

    To create a Redshift Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your Redshift Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding manifest template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      name: ${redshift-depot-name}-r # Unique identifier for Resource, replace ${re-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          username: ${username} # replace with Redshift username
          password: ${password} # replace with Redshift password
          awsaccesskeyid: ${access key} # replace with AWS access ID
          awssecretaccesskey: ${secret key}  # replace with AWS access key
      ```

      ```yaml Read-write instance-secret
      name: ${redshift-depot-name}-rw # Unique identifier for Resource, replace ${re-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          username: ${username} # replace with Redshift username
          password: ${password} # replace with Redshift password
          awsaccesskeyid: ${access key} # replace with AWS access ID
          awssecretaccesskey: ${secret key}  # replace with AWS access key
      ```
    </CodeGroup>

    ### **Resource meta section**

    The Instance Secret manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to Redshift Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the Redshift Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="S3" defaultOpen={false}>
    ### Pre-requisites

    To create an Instance Secret for securing S3 credentials, you must have the following information:

    * **Access Key ID**: The access key ID used to authenticate AWS requests. You can retrieve this from the AWS Management Console by navigating to **IAM > Users**, selecting the relevant user, and viewing their **Security Credentials**.

    * **AWS Access Key ID**: The AWS-specific access key ID, which can also be retrieved from the **IAM > Users** section in the AWS Management Console under **Security Credentials**.

    * **AWS Secret Access Key**: The secret access key associated with the AWS access key ID. This is displayed only once when the key is generated. If lost, you will need to create a new access key in the **IAM > Users** section under **Security Credentials**.

    * **Secret Key**: Another key used for authentication.&#x20;

    Ensure these credentials are securely stored and readily available before proceeding with the Instance Secret creation process.

    ### Create an Instance Secret for securing Amazon S3 credentials

    Amazon Simple Storage Service (S3) is an object storage system. Object stores are distributed storage systems designed to store and manage large amounts of unstructured data.

    To create an S3 Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your S3 Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      # Amazon S3 Read Instance-secret Manifest

      name: ${s3-depot-name}-r # Unique identifier for Resource, replace ${s3-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          accesskeyid: ${access-key-id} # Replace with access key ID
          awsaccesskeyid: ${aws-access-key-id} # Replace with AWS access key ID
          awssecretaccesskey: ${aws-secret-access-key} # Replace with AWS secret access key
          secretkey: ${secret-key} # Replace with secret key
      ```

      ```yaml Read-write instance-secret
      # Amazon S3 Read Write Instance-secret Manifest

      name: ${s3-depot-name}-rw # Unique identifier for Resource, replace ${s3-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          accesskeyid: ${access-key-id} # Replace with access key ID
          awsaccesskeyid: ${aws-access-key-id} # Replace with AWS access key ID
          awssecretaccesskey: ${aws-secret-access-key} # Replace with AWS secret access key
          secretkey: ${secret-key} # Replace with secret key
      ```
    </CodeGroup>

    ### **Resource meta section**

    The S3 manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to S3 Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the S3 Instance Secret within DataOS, use the `apply` command. Since S3 Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Snowflake" defaultOpen={false}>
    ### Pre-requisites

    To create an Instance Secret for securing Snowflake credentials, you must have the following information:

    * **Username**: The Snowflake username used to authenticate to the Snowflake account. This can be obtained from your Snowflake administrator or found in your Snowflake account settings.

    * **Password**: The password associated with the Snowflake username for authentication. If you do not have the password, you will need to reset it via the Snowflake web interface or contact your Snowflake administrator to obtain it.

    Ensure that these credentials are securely stored and readily available before proceeding with the Instance Secret creation process.

    ## Create an Instance Secret for securing Snowflake credentials

    Snowflake is a data warehouse that serves as a centralized repository for structured data, enabling efficient query and analysis.

    To create a Snowflake Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your Snowflake Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      # Snowflake Read Instance-secret Manifest

      name: ${snowflake-depot-name}-r # Unique identifier for Resource, replace ${snowflake-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: r # Access control: 'r' for read-only
        data:
          username: ${username} # replace with snowflake username
          password: ${password} # replace with snowflake password

      ```

      ```yaml Read-write instance-secret
      # Snowflake Read Write Instance-secret Manifest

      name: ${snowflake-depot-name}-rw # Unique identifier for Resource, replace ${snowflake-depot-name} with depot name
      version: v1 # Manifest version
      type: instance-secret # Type of the Resource
      description: ${description} # Purpose of the Instance-secret
      layer: user # DataOS layer
      instance-secret:
        type: key-value-properties # Secret type
        acl: rw # Access control: 'rw' for read-write
        data:
          username: ${username} # replace with snowflake username
          password: ${password} # replace with snowflake password
      ```
    </CodeGroup>

    ### **Resource meta section**

    The Instance Secret manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to Snowflake Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the Snowflake Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="WASBS" defaultOpen={false}>
    To create an Instance Secret for securing WASBS credentials, you must have the following information:

    * **Azure Endpoint Suffix**: The endpoint suffix for the Azure Storage account. This is typically region-specific and can be found in the Azure Portal under the **Properties** section of your storage account.

    * **Azure Storage Account Key**: The access key for the Azure Storage account, used for authentication. You can retrieve this from the Azure Portal by navigating to your storage account, selecting **Access keys** under the **Security + networking** section, and copying the key.

    * **Azure Storage Account Name**: The name of the Azure Storage account used to identify it within your subscription. This can be found in the Azure Portal under the **Overview** section of your storage account.

    Ensure that you have these details ready before proceeding with the Instance Secret creation process.

    ### Create an instance secret for securing WASBS credentials

    Windows Azure Storage Blob Service (WASBS) is an object storage system. Object stores are distributed storage systems designed to store and manage large amounts of unstructured data.

    To create a Windows Azure Storage Blob Service (WASBS) Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your WASBS Instance Secret. Below are the templates for the read-only and read-write manifests:

    <CodeGroup>
      ```yaml Read-only instance-secret
      name: ${wasbs-depot-name}-r # Name of the instance-secret, indicating it's for read-only access.
      version: v1 # Manifest Version           
      type: instance-secret # Resource-type
      description: ${description}   # Optional: Brief description of the instance-secret's purpose.
      layer: user # DataOS Layer                 
      instance-secret:
        type: key-value-properties  # Type of Instance-secret
        acl: r                     # Access control level, set to 'r' for read-only access.
        data:                       
          azureendpointsuffix: ${azure-endpoint-suffix}  # Endpoint suffix for the Azure storage account.
          azurestorageaccountkey: ${azure-storage-account-key}  # Access key for the Azure storage account.
          azurestorageaccountname: ${azure-storage-account-name}  # Name of the Azure storage account.
      ```

      ```yaml Read-write instance-secret
      name: ${wasbs-depot-name}-rw  # Name of the instance-secret, indicating it's for read-write access.
      version: v1 # Manifest Version           
      type: instance-secret # Resource-type
      description: ${description}   # Optional: Brief description of the instance-secret's purpose.
      layer: user # DataOS Layer                 
      instance-secret:
        type: key-value-properties  # Type of Instance-secret
        acl: rw                     # Access control level, set to 'rw' for read-write access.
        data:                       
          azureendpointsuffix: ${azure-endpoint-suffix}  # Endpoint suffix for the Azure storage account.
          azurestorageaccountkey: ${azure-storage-account-key}  # Access key for the Azure storage account.
          azurestorageaccountname: ${azure-storage-account-name}  # Name of the Azure storage account.
      ```
    </CodeGroup>

    ### Resource meta section

    The WASBS manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to WASBS Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the WASBS Instance Secret within DataOS, use the `apply` command. Since these Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Opensearch" defaultOpen={false}>
    To create an Instance Secret for securing OpenSearch credentials, you must have the following information:

    * **Username:** The OpenSearch username used to authenticate access to the OpenSearch instance. This is typically a user-specific or role-based identifier.&#x20;

    * **Password:** The OpenSearch password corresponding to the username for authentication. You can retrieve it from your OpenSearch configuration or admin settings, depending on how the instance credentials are managed in your organization.

    Ensure that you have these details ready before proceeding with the Instance Secret creation process.

    ### Create an instance secret for securing OpenSearch credentials

    OpenSearch is a distributed search and analytics engine designed to handle large volumes of structured and unstructured data. It is commonly used for log analytics, full-text search, and real-time monitoring applications.

    To create an OpenSearch Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the necessary permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your OpenSearch Instance Secret. Below are the templates for the read-only and read-write manifests:

    <CodeGroup>
      ```yaml Read-only instance-secret
      name: ${opensearch-depot-name}-r # Name of the instance-secret, indicating it's for read-only access.
      version: v1 # Manifest Version           
      type: instance-secret # Resource-type
      description: ${description}   # Optional: Brief description of the instance-secret's purpose.
      layer: user # DataOS Layer                 
      instance-secret:
        type: key-value-properties  # Type of Instance-secret
        acl: r                     # Access control level, set to 'r' for read-only access.
        data:
          username: ${{Opensearch username}}
          password: ${{Opensearch password}}
      ```

      ```yaml Read-write instance-secret
      name: ${opensearch-depot-name}-rw # Name of the instance-secret, indicating it's for read-write access.
      version: v1 # Manifest Version           
      type: instance-secret # Resource-type
      description: ${description}   # Optional: Brief description of the instance-secret's purpose.
      layer: user # DataOS Layer                 
      instance-secret:
        type: key-value-properties  # Type of Instance-secret
        acl: rw                     # Access control level, set to 'rw' for read-write access.
        data:
          username: ${{username}}
          password: ${{password}}
      ```
    </CodeGroup>

    ### Resource meta section

    The Opensearch manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to OpenSearch Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the OpenSearch Instance Secret within DataOS, use the `apply` command. Since these Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Elasticsearch" defaultOpen={false}>
    To create an Instance Secret for securing Elasticsearch credentials, you must have the following information:

    * **Username:** The Elasticsearch username used to authenticate access to the Elasticsearch instance. This is typically a user-specific or role-based identifier that grants the necessary permissions for accessing resources.

    * **Password:** The Elasticsearch password corresponding to the username for authentication. This password ensures secure access to the Elasticsearch instance and can be obtained from your Elasticsearch configuration or admin settings, depending on how credentials are managed within your organization.

    Ensure that you have these details ready before proceeding with the Instance Secret creation process.

    ### Create an instance secret for securing Elasticsearch credentials

    Elasticsearch is a distributed search and analytics engine designed to handle large volumes of structured and unstructured data. It is widely used for log analytics, real-time search, and monitoring applications, enabling fast and scalable data indexing and querying.

    To create an Elasticsearch Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the necessary permissions. Follow the steps below to securely and efficiently complete the Instance Secret creation process.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your Elasticsearch Instance Secret. Below are the templates for the read-only and read-write manifests:

    <CodeGroup>
      ```yaml Read-only instance-secret
      name: ${elasticsearch-depot-name}-r # Name of the instance-secret, indicating it's for read-only access.
      version: v1 # Manifest Version           
      type: instance-secret # Resource-type
      description: ${description}   # Optional: Brief description of the instance-secret's purpose.
      layer: user # DataOS Layer                 
      instance-secret:
        type: key-value-properties  # Type of Instance-secret
        acl: r                     # Access control level, set to 'r' for read-only access.
        data:
          username: ${{elasticsearch username}}
          password: ${{elasticsearch password}}
      ```

      ```yaml Read-write instance-secret
      name: ${elasticsearch-depot-name}-rw # Name of the instance-secret, indicating it's for read-write access.
      version: v1 # Manifest Version           
      type: instance-secret # Resource-type
      description: ${description}   # Optional: Brief description of the instance-secret's purpose.
      layer: user # DataOS Layer                 
      instance-secret:
        type: key-value-properties  # Type of Instance-secret
        acl: rw                     # Access control level, set to 'r' for read-write access.
        data:
          username: ${{elasticsearch username}}
          password: ${{elasticsearch password}}
      ```
    </CodeGroup>

    ### Resource meta section

    The Elasticsearch manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to Elasticsearch Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Elasticsearch username and password.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the Elasticsearch Instance Secret within DataOS, use the `apply` command. Since these Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>

    ### Step 3: Validate the Instance Secret

    To validate the proper creation of the Instance Secret in DataOS, use the `get` command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret
      ```

      ```bash Expected output
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

              NAME     | VERSION |      TYPE       | WORKSPACE | STATUS |  RUNTIME  |  OWNER             
      -----------------|---------|-----------------|-----------|--------|-----------|------------------------------
           depotsecret | v1      | instance-secret |           | active |           | iamgroot
      ```
    </CodeGroup>

    To get the list of all the Instance Secret within the Dataos environment execute the following command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource get -t instance-secret -a
      ```

      ```bash Expected output
      dataos-ctl resource get -t instance-secret -a
      INFO[0000] ğŸ” get...                                     
      INFO[0000] ğŸ” get...complete                             

                   NAME            | VERSION |      TYPE       | WORKSPACE | STATUS | RUNTIME |         OWNER          
      -----------------------------|---------|-----------------|-----------|--------|---------|------------------------
        abfssv2alpha-r             | v1      | instance-secret |           | active |         | iamgroot       
        abfssv2alpha-rw            | v1      | instance-secret |           | active |         | iamgroot       
        abfsswithoutmetastore-r    | v1      | instance-secret |           | active |         | thisisthor              
        abfsswithoutmetastore-rw   | v1      | instance-secret |           | active |         | thisisthor              

      ```
    </CodeGroup>

    Alternatively, you can also check on Metis UI by searching the Instance Secret by name.

    ![](/Screenshotfrom2025-01-2716-25-53.png)

    ### Delete the Instance Secret

    <Warning>
      Before you can delete an Instance Secret, you need to make sure there are no other Resources dependent on it. For example, if a Depot has a dependency on an Instance Secret, trying to delete that Instance Secret will cause an error. So, you'll need to remove the Depot first, and then you can delete the Instance Secret. This rule applies to not just Depot, but all dependent Resources, such as Workflow, Service, Worker, etc. The following error will be thrown if any Resource has a dependency on Instance Secret as shown below. Example usage:

      ```bash
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret... 
      INFO[0001] ğŸ—‘ deleting sampleinstsecret:v1:instance-secret...error 
      WARN[0001] ğŸ—‘ delete...error                             
      ERRO[0001] Invalid Parameter - failure deleting instance resource : cannot delete resource, it is a dependency of 'depot:v2alpha:sampleinstdepot'
      ```
    </Warning>

    [](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

    To delete an Instance Secret, use one of the following methods:

    **Method 1:**  Specify the Resource type and Instance Secret name in theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Alternative command
      dataos-ctl delete -t ${resource-type} -n ${resource-name}
      ```

      ```bash Example usage
      dataos-ctl resource delete -t instance-secret -n sampleinstsecret
      Expected output:
      dataos-ctl delete -t instance-secret -n sampleinstsecret
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 2:** Â Copy the Instance Secret name, version, and Resource-type from the output of theÂ [`get`](https://dataos.info/interfaces/cli/command_reference/#get)Â command separated by '|' enclosed within quotes and use it as a string in the delete command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -i ${resource-name:version:resource-type}
      ```

      ```bash Alternative command
      dataos-ctl delete -i ${resource-name:version:resource-type}
      ```

      ```bash Example usage
      dataos-ctl resource delete -i sampleinstsecret:v1:instance-secret
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>

    **Method 3:** Specify the path of the manifest file and use theÂ [`delete`](https://dataos.info/interfaces/cli/command_reference/#delete)Â command.

    <CodeGroup>
      ```bash Command
      dataos-ctl resource delete -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl delete -f ${manifest-file-path}
      ```

      ```bash Example usage
      dataos-ctl delete -f /home/desktop/connect-city/instance_secret.yaml
      Expected output:
      INFO[0000] ğŸ—‘ delete...                                  
      INFO[0000] ğŸ—‘ deleting sampleinstsecret:instance-secret...deleted
      INFO[0000] ğŸ—‘ delete...complete
      ```
    </CodeGroup>
  </Accordion>
</AccordionGroup>

#### Repositories:

<AccordionGroup>
  <Accordion title="AWS CodeCommit" defaultOpen={false}>
    ## Create an Instance Secret for securing AWS CodeCommit credentials

    AWS CodeCommit is a central storage location where code, documentation, and related files are managed and versioned. It allows developers to track changes over time, collaborate on code by merging contributions from multiple developers, and maintain a history of modifications.

    To create a AWS CodeCommit Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your AWS CodeCommit Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      name: ${gcs-depot-name}-r  # Name of the instance-secret, indicating it's for read-only access.
      version: v1  # Version of the instance-secret.
      type: instance-secret  # Specifies that this is an instance-secret.
      description: ${description}  # Optional: Brief description of the instance-secret's purpose.
      layer: user  # DataOS layer where the secret is assigned.
      instance-secret:
        type: key-value-properties  # Type of Instance-secret, stored as key-value pairs.
        acl: r  # Access control level, set to 'r' for read-only access.
        data:
          projectid: ${project-id}  # Unique identifier of the Google Cloud project that your GCS bucket resides in.
          email: ${client-email}  # Email address associated with the Google Cloud service account.
        files:
          gcskey_json: ${path-to-gcskey-json}  # Path to the JSON key file for the Google Cloud service account.

      ```

      ```yaml Read-write instance-secret
      name: ${gcs-depot-name}-rw  # Name of the instance-secret, indicating it's for read-write access.
      version: v1  # Version of the instance-secret.
      type: instance-secret  # Specifies that this is an instance-secret.
      description: ${description}  # Optional: Brief description of the instance-secret's purpose.
      layer: user  # DataOS layer where the secret is assigned.
      instance-secret:
        type: key-value-properties  # Type of Instance-secret, stored as key-value pairs.
        acl: rw  # Access control level, set to 'rw' for read-write access.
        data:
          projectid: ${project-id}  # Unique identifier of the Google Cloud project that your GCS bucket resides in.
          email: ${client-email}  # Email address associated with the Google Cloud service account.
        files:
          gcskey_json: ${path-to-gcskey-json}  # Path to the JSON key file for the Google Cloud service account.
      ```
    </CodeGroup>

    ### **Resource meta section**

    The manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to AWS CodeCommit Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the AWS CodeCommit Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Bitbucket" defaultOpen={false}>
    ### Create an Instance Secret for securing Bitbucket repository credentials

    Bitbucket repository is a central storage location where code, documentation, and related files are managed and versioned. It allows developers to track changes over time, collaborate on code by merging contributions from multiple developers, and maintain a history of modifications.

    To create a Bitbucket repository Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your Bitbucket repository Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      name: ${{bitbucket-r}}
      version: ${{v1}}
      type: instance-secret
      description: ${{"bitbucket credentials"}}
      layer: ${{user}}
      instance-secret:
        type: ${{key-value}}
        acl: ${{r}}
        data:
          GITSYNC_USERNAME: ${{"iamgroot"}}
          GITSYNC_PASSWORD: ${{"56F4japOhkkQDS3trUnZsetFB2J3lnclDPgHThHLto="}}
      ```

      ```yaml Read-write instance-secret
      name: ${{bitbucket-rw}}
      version: ${{v1}}
      type: instance-secret
      description: ${{"bitbucket credentials"}}
      layer: ${{user}}
      instance-secret:
        type: ${{key-value}}
        acl: ${{rw}}
        data:
          GITSYNC_USERNAME: ${{"iamgroot"}}
          GITSYNC_PASSWORD: ${{"56F4japOhkkQDS3trUnZsetFB2J3lnclDPgHThHLto="}}
      ```
    </CodeGroup>

    ### **Resource meta section**

    The manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to Bitbucket repository Instance Secrets. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the Bitbucket repository Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Git" defaultOpen={false}>
    ### Create an Instance Secret for securing Git repository credentials

    Git repository is a central storage location where code, documentation, and related files are managed and versioned. It allows developers to track changes over time, collaborate on code by merging contributions from multiple developers, and maintain a history of modifications.

    To create a Git repository Instance Secret in DataOS, ensure you have access to the DataOS Command Line Interface (CLI) and the required permissions. Follow the steps below to complete the creation process efficiently and securely.

    ### Step 1: Create a manifest file

    Begin by creating a manifest file to hold the configuration details for your Git repository Instance Secret. Depending on your access needs (read-only or read-write), start with the corresponding YAML template provided below.

    <CodeGroup>
      ```yaml Read-only instance-secret
      name: ${{gitcred-r}}
      version: ${{v1}}
      type: instance-secret
      description: ${{"git credentials"}}
      layer: ${{user}}
      instance-secret:
        type: ${{key-value}}
        acl: ${{r}}
        data:
          GITSYNC_USERNAME: ${{"iamgroot"}}
          GITSYNC_PASSWORD: ${{"56F4japOhkkQDS3trUnZsetFB2J3lnclDPgHThHLto="}}
      ```

      ```yaml Read-write instance-secret
      name: ${{gitcred-rw}}
      version: ${{v1}}
      type: instance-secret
      description: ${{"git credentials"}}
      layer: ${{user}}
      instance-secret:
        type: ${{key-value}}
        acl: ${{rw}}
        data:
          GITSYNC_USERNAME: ${{"iamgroot"}}
          GITSYNC_PASSWORD: ${{"56F4japOhkkQDS3trUnZsetFB2J3lnclDPgHThHLto="}}
      ```
    </CodeGroup>

    ### **Resource meta section**

    The Instance Secret manifest includes a Resource meta section with essential metadata attributes common to all resource types. Some attributes in this section are optional, while others are mandatory. For more details, refer to the [Attributes of Resource Meta Section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Instance-secret specific section

    This section focuses on attributes specific to Git repository Instance Secret. It includes details like:

    * `type`: Specifies the Instance Secret type (key-value-properties).

    * `acl`: Access control level (read-only or read-write).

    * `data`: Contains sensitive information such as Azure endpoint suffix, storage account key, and storage account name.

    For more information, refer to the [Attributes of Instance-secret specific section](https://chatgpt.com/c/678f3bec-7128-8002-ab9b-3a112795db86#).

    ### Step 2: Apply the manifest

    To create the Git repository Instance Secret within DataOS, use the `apply` command. Since Instance Secrets are instance-level resources, do not specify a workspace while applying the manifest.&#x20;

    <CodeGroup>
      ```bash Command
      dataos-ctl resource apply -f ${manifest-file-path}
      ```

      ```bash Alternative command
      dataos-ctl apply -f ${manifest-file-path}
      ```

      ```bash Example usage 
      dataos-ctl resource apply -f depot_secret.yaml
      Example usage:
      $ dataos-ctl apply -f depot_secret.yaml
      INFO[0000] ğŸ›  apply...                                   
      INFO[0000] ğŸ”§ applying depotsecret-r:v1:instance-secret... 
      INFO[0004] ğŸ”§ applying depotsecret-r:v1:instance-secret...created 
      INFO[0004] ğŸ›  apply...complete
      ```
    </CodeGroup>
  </Accordion>
</AccordionGroup>

[](https://dataos.info/resources/instance_secret/first_steps/#__codelineno-15-1)

## Configurations

Instance-secret can be configured to secure the credentials information through key-value pairs. For a detailed breakdown of the configuration options and attributes, please refer to the documentation: [Attributes of Instance Secret manifest](/resources/instance_secret/configurations).

## Recipes

[How to refer to an Instance Secret in other DataOS Resources?](/resources/instance_secret/how_to_guide/recipe_1)

## Governance

To govern an Instance Secret, please [refer to this link.](/resources/instance_secret/governance)

## Observability

Instance Secrets can be monitored using Monitor Resource, to know more about it, please [refer to this link.](/resources/instance_secret/observability)

## How to catalog an Instance Secret?

Once an Instance Secret is successfully created, you can view its metadata in the Metis UI. Additionally, any updates made to an Instance Secret can be tracked in the activity section of Metis.

## Best Practices

* As an operator, it is recommended to assign a use case to a user rather than a tag, as use cases provide greater control over user permissions and enable more secure management of specific resources.

* Before deleting an Instance Secret, ensure that it is not being used by any other resources.

## FAQs

<AccordionGroup>
  <Accordion title="Can I update an existing Instance Secret?" defaultOpen={false}>
    Yes, you can update an Instance Secret by modifying its manifest file and re-applying it. However, ensure that dependent resources are updated accordingly.
  </Accordion>

  <Accordion title="What happens if an Instance Secret is deleted?" defaultOpen={false}>
    If an Instance Secret is deleted, any resources relying on it may lose access or experience failures. It is recommended to verify dependencies before deletion.
  </Accordion>

  <Accordion title="How can I receive alerts if an Instance Secret is deleted?" defaultOpen={false}>
    You can configure a **Monitor Resource** in DataOS along with a **Pager Resource** to receive notifications when an Instance Secret is deleted.
  </Accordion>

  <Accordion title="Is there a way to restore a deleted Instance Secret?" defaultOpen={false}>
    No, deleted secrets cannot be recovered. You must create a new Instance Secret and update all associated resources.
  </Accordion>

  <Accordion title="Can multiple users access the same Instance Secret?" defaultOpen={false}>
    Yes, anyone assigned a use case that grants permission to read an Instance Secret can access it.
  </Accordion>

  <Accordion title="Can we create multiple Instance Secrets with the same name?" defaultOpen={false}>
    No, for Instance Secrets, names must be unique. If you attempt to create a secret with a name that already exists, the system will prevent duplication. You may need to use a different name or update the existing secret if modifications are required.
  </Accordion>
</AccordionGroup>