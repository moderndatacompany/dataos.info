version: v1
name: test-policy-01
type: policy
layer: user
description: Policy allowing iamgroot user to query workbench
policy:
  access:
    name:  test-policy-01
    description: this is to test access policy
    collection: default
    subjects:
      tags:
       - users:id:iamgroot      
    predicates:
      - read
      - select
    objects:
      tags:
        - dataos:resource:cluster:minerva:system   #minerva cluster access
        - dataos:system:minerva:table:icebase:retail:city  #
        - dataos:type:secret:icebase_r_r  #read specific secret
        - dataos:type:secret:icebase_rw_rw  #read specific secret
        - dataos:system:ds:dataset:icebase:retail:city  #read dataset
    allow: true           # Granting access