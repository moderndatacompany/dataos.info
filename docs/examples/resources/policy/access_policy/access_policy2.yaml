version: v1
name: test-policy-02
type: policy
layer: user
description: Policy allowing all users
policy:
  access:
    name:  test-policy-02
    description: this is to test policy
    collection: default
    subjects:
      tags:
       - users:id:iamgroot      
    predicates:
      - read
      - select
    objects:
      tags:
        - dataos:resource:cluster:minerva:system   #minerva cluser access
        - dataos:system:minerva:table:icebase:retail:* #read table
        - dataos:type:secret:* #read secret
        - dataos:system:ds:dataset:icebase:retail:*  #read dataset
    allow: true           # Granting access