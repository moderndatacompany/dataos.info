version: v1
name: test-policy-03
type: policy
layer: user
description: Policy allowing all users
policy:
  access:
    name:  test-policy-03
    description: this is to test policy
    collection: default
    subjects:
      tags:
       - "users:id:**"
       - "roles:id:**"
        
    predicates:
      - read
      - select
    objects:
      tags:
        - dataos:resource:cluster:minerva:system   #minerva cluser access
        - dataos:system:minerva:table:icebase:retail:* 
        - dataos:type:secret:icebase_r_r
        - dataos:type:secret:icebase_r_r #read secret
        - dataos:system:ds:dataset:icebase:retail:city
    allow: true           # Granting access